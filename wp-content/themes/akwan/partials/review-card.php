<?php
$post_id = @$args['post_id'] ?: get_the_ID();
$comment = get_field('comment', $post_id);
$reviewer_name = get_the_title($post_id);
$reviewer_role = '';

$terms = get_the_terms($post_id, 'review_role');
if ($terms && !is_wp_error($terms)) {
  $reviewer_role = $terms[0]->name;
}
?>
<div class="review-card">
  <div class="review-content paragraph-18 fw-400 black-color">
    <?= $comment ?>
  </div>
  <div class="review-footer mt-3 d-flex align-items-center">
    <svg class="stars" width="119" height="25" viewBox="0 0 119 25" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M11.4714 3.18998C11.7231 2.41535 12.819 2.41535 13.0707 3.18998L14.725 8.28157C14.8376 8.62799 15.1604 8.86254 15.5247 8.86254L20.8783 8.86254C21.6928 8.86254 22.0314 9.90479 21.3725 10.3835L17.0413 13.5303C16.7467 13.7444 16.6233 14.1239 16.7359 14.4703L18.3903 19.5619C18.642 20.3366 17.7554 20.9807 17.0964 20.502L12.7653 17.3552C12.4706 17.1411 12.0715 17.1411 11.7768 17.3552L7.44568 20.502C6.78674 20.9807 5.90015 20.3366 6.15184 19.5619L7.8062 14.4703C7.91876 14.1239 7.79545 13.7444 7.50076 13.5303L3.1696 10.3835C2.51066 9.90479 2.84931 8.86254 3.6638 8.86254L9.01742 8.86254C9.38167 8.86254 9.70449 8.62799 9.81705 8.28157L11.4714 3.18998Z" fill="#FFD623"/>
      <path d="M35.0134 3.18998C35.2651 2.41535 36.361 2.41535 36.6127 3.18998L38.267 8.28157C38.3796 8.62799 38.7024 8.86254 39.0667 8.86254L44.4203 8.86254C45.2348 8.86254 45.5734 9.90479 44.9145 10.3835L40.5833 13.5303C40.2886 13.7444 40.1653 14.1239 40.2779 14.4703L41.9323 19.5619C42.1839 20.3366 41.2973 20.9807 40.6384 20.502L36.3072 17.3552C36.0126 17.1411 35.6135 17.1411 35.3188 17.3552L30.9877 20.502C30.3287 20.9807 29.4421 20.3366 29.6938 19.5619L31.3482 14.4703C31.4607 14.1239 31.3374 13.7444 31.0428 13.5303L26.7116 10.3835C26.0527 9.90479 26.3913 8.86254 27.2058 8.86254L32.5594 8.86254C32.9237 8.86254 33.2465 8.62799 33.359 8.28157L35.0134 3.18998Z" fill="#FFD623"/>
      <path d="M58.5554 3.18998C58.8071 2.41535 59.903 2.41535 60.1547 3.18998L61.809 8.28157C61.9216 8.62799 62.2444 8.86254 62.6087 8.86254L67.9623 8.86254C68.7768 8.86254 69.1154 9.90479 68.4565 10.3835L64.1253 13.5303C63.8306 13.7444 63.7073 14.1239 63.8199 14.4703L65.4742 19.5619C65.7259 20.3366 64.8393 20.9807 64.1804 20.502L59.8492 17.3552C59.5546 17.1411 59.1555 17.1411 58.8608 17.3552L54.5297 20.502C53.8707 20.9807 52.9841 20.3366 53.2358 19.5619L54.8902 14.4703C55.0027 14.1239 54.8794 13.7444 54.5847 13.5303L50.2536 10.3835C49.5946 9.90479 49.9333 8.86254 50.7478 8.86254L56.1014 8.86254C56.4657 8.86254 56.7885 8.62799 56.901 8.28157L58.5554 3.18998Z" fill="#FFD623"/>
      <path d="M82.0979 3.18998C82.3496 2.41535 83.4455 2.41535 83.6972 3.18998L85.3515 8.28157C85.4641 8.62799 85.7869 8.86254 86.1511 8.86254L91.5048 8.86254C92.3193 8.86254 92.6579 9.90479 91.999 10.3835L87.6678 13.5303C87.3731 13.7444 87.2498 14.1239 87.3624 14.4703L89.0167 19.5619C89.2684 20.3366 88.3818 20.9807 87.7229 20.502L83.3917 17.3552C83.097 17.1411 82.698 17.1411 82.4033 17.3552L78.0721 20.502C77.4132 20.9807 76.5266 20.3366 76.7783 19.5619L78.4327 14.4703C78.5452 14.1239 78.4219 13.7444 78.1272 13.5303L73.7961 10.3835C73.1371 9.90479 73.4758 8.86254 74.2903 8.86254L79.6439 8.86254C80.0081 8.86254 80.331 8.62799 80.4435 8.28157L82.0979 3.18998Z" fill="#FFD623"/>
      <path d="M105.64 3.18998C105.892 2.41535 106.987 2.41535 107.239 3.18998L108.894 8.28157C109.006 8.62799 109.329 8.86254 109.693 8.86254L115.047 8.86254C115.861 8.86254 116.2 9.90479 115.541 10.3835L111.21 13.5303C110.915 13.7444 110.792 14.1239 110.904 14.4703L112.559 19.5619C112.81 20.3366 111.924 20.9807 111.265 20.502L106.934 17.3552C106.639 17.1411 106.24 17.1411 105.945 17.3552L101.614 20.502C100.955 20.9807 100.069 20.3366 100.32 19.5619L101.975 14.4703C102.087 14.1239 101.964 13.7444 101.669 13.5303L97.3381 10.3835C96.6791 9.90479 97.0178 8.86254 97.8323 8.86254L103.186 8.86254C103.55 8.86254 103.873 8.62799 103.986 8.28157L105.64 3.18998Z" fill="#FFD623"/>
    </svg>
    <div class="reviewer-info">
      <div class="name paragraph-18 fw-600 black-color"><?= $reviewer_name ?></div>
      <div class="separator"></div>
      <?php if ($reviewer_role): ?>
        <div class="paragraph-18 fw-300 black-color term"> <?= $reviewer_role ?></div>
      <?php endif; ?>
    </div>
  </div>
</div>
